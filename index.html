<!DOCTYPE html>

<html>
<head>
    <title>Course Editor</title>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/knockout.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    
    <style type="text/css">
        .column {
            float: left;
            width: 200px;
            padding: 10px;
            border: 1px solid black;
        }
        .add-btn, .sub-btn {
            width: 30px;
        }
        select {
            width: 200px;
            height: 100px;
            margin: 10px 0;
        }
    </style>
</head>

<body>
    
<div id="track-col" class="column">
    <h1>Track</h1>
    <button class="add-btn" data-bind="click: addTrack">+</button>
    <button class="sub-btn" data-bind="click: removeTrack">-</button>
    <br />
    <select multiple="true" data-bind="options: tracks,
                                        optionsText: function (item) {
                                            return item.title
                                        },
                                        value: selectedTrack"></select>
    <br />
    <label for="track-title">Title: </label>
    <input id="track-title" type="text" data-bind="value: selectedTrack() ? selectedTrack().title : ''"/>
</div>

<div id="chapter-col" class="column">
    <h1>Chapter</h1>
    <button class="add-btn" data-bind="enable: selectedTrack(), click: selectedTrack() ? selectedTrack().addChapter: null">+</button>
    <button class="sub-btn" data-bind="enable: selectedChapter(),
                                        click: selectedTrack() ?
                                        function () {
                                            console.log(selectedTrack());
                                            selectedTrack().removeChapter(selectedChapter())
                                        } : null">-</button>
    <br />
    <select multiple="true" data-bind="options: selectedTrack() ? selectedTrack().chapters : [],
                                        optionsText: function (item) {
                                            return item.title
                                        },
                                        value: selectedChapter"></select>
    <br />
    <label for="chapter-title">Title: </label>
    <input id="chapter-title" type="text" data-bind="value: selectedChapter() ? selectedChapter().title : ''"/>
</div>

<div id="page-col" class="column">
    <h1>Page</h1>
    <button class="add-btn" data-bind="enable: selectedChapter(), click: selectedChapter() ? selectedChapter().addPage : null">+</button>
    <button class="sub-btn" data-bind="enable: selectedPage(),
                                        click: selectedChapter() ?
                                        function () {
                                            selectedChapter().removePage(selectedPage());
                                        } : null">-</button>
    <br />
    <select multiple="true" data-bind="options: selectedChapter() ? selectedChapter().pages : [],
                                        optionsText: function (item) {
                                            return item.title
                                        },
                                        value: selectedPage"></select>
    <br />
    <label for="page-title">Title: </label>
    <input id="page-title" type="text" data-bind="value: selectedPage() ? selectedPage().title : ''"/>
    <label for="page-path">Path: </label>
    <input id="page-path" type="text" data-bind="value: selectedPage() ? selectedPage().path : ''"/>
</div>

</body>
</html>
